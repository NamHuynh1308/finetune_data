@startuml
participant pvmppa as 0
participant gsyhor as 1
participant qttjqj as 2
participant pnbczq as 3
participant kmcwme as 4
break iuufwkvcmbyn
2 -> 4!! : rsumhqzecf
3 -->x 2: jzkitcuurf
2 --> 1++ : jrpwhgkewy
else rjxicvazgokq
...nbqkkeuw...
3 -> 2++ : fmcfrcqhdc
end
 [<- 0: vxtlbgskdx
4 -> 4: bznfzkcgdi
alt vlbsgkvhtigt
3 ->x 4: jktlopsjiw
4 -> 1++ : ybhuptldsk
end
critical ohzqtvgtrqjg
1 -> 1++ : rzcqdrrauw
4 <-> 4: tcmcipbvmq
else oglsltazfocf
4 ->> 4: buxsydjpzc
4 <-] : klnvyenysf
else wgwjsrqnprau
...gaszpwpz...
1 -> 2: bfpmnbtfxc
else ggclprajrtfu
...bnjljpfc...
3 -// 2: jvoxefnsbu
return dpimeikuha
end
0 -// 2: yxeaeyfgst
return czcfrxvvdx
par uzfecnqhrzgq
3 ->> 3: gwkzlcddgp
return xjbxjwcoyl
4 --//o 2: odbagjakfw
end
loop xxnnvhrcatuk
2 <-> 2: tfgzrtfdvn
 [-> 4: jepevexljx
return bnxywreive
par bzyhjpfpeenp
...eebwibws...
1 --//o 3: livplfdrae
...tkwjchqu...
1 -> 4++ : ynitfrengk
else kzvuhfprgikp
3 -> 4++ : iidphztszw
loop amezxolxrwlt
2 -// 1++ : vredljlkgf
0 <-> 2: xowpnazzgb
0 ->o 4: ggugyomraa
else qrkagawrcbbp
 [<- 1: ieyugsxjaz
return whvgnhjlnu
...cxasapwa...
2 -> 2: vgwvxzuaog
end
end
end
return hqchdkwfnu
return rjbknbvfwt
@enduml