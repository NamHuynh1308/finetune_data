@startuml
participant xjnutq as 0
box "ebwee"
participant fikqmj as 1
box "iehoo"
participant lhrovz as 2
box "ffkls"
participant jjiwxx as 3
end box
end box
end box
par uibdnixtbree
3 -\\ 1: vioqqtmoaq
1 -> 1: jpamgbtstm
end
0 -// 3: fmwtqriaer
2 <-> 2: lwvkeqiheu
critical cgcmtxspnrcb
3 -> 1: vrcgrrddjy
...qrimlfyh...
1 ->x 3: siylktmblz
1 -> 3: jxygaftxzj
end
...tbtmcmuk...
2 <-] : gerisouqjs
2 -> 2++ : lcymzvpsdk
0 --//o 0: yfpkgsouun
return alerficbfa
3 -> 2: larkxawvsv
2 -> 1: zkgkgpdury
1 ->] : tblvbwhsut
loop hstdhfstqiss
 [<- 2: aunuejoczt
2 -->x 1: zkrmnwwznp
...sfzkopab...
0 --//o 3++ : oagpqqxvqf
3 <-> 3: rtzbabpmqv
return ieuzlcvtvr
else behlqoewrwsr
opt oezmcyycgwrk
1 -> 0: jonumisacj
2 -> 0: hngysgxaca
2 ->] : kionuobdcs
...yppcwzbi...
3 --//o 2: tvtruaxpwm
...expzxtuu...
0 -> 3: zvsuamcdff
0 ->o 3: csvfaxobsn
1 <-] : nuvpnuapgr
else rzpptogrqpyu
...ftiqaeey...
3 <-> 2: cpyzcppoeo
end
3 <-] : spwmmxxpfg
else zwubgoydwhwe
 [-> 0: fwydzhkckr
0 -> 0: gaezujyeuk
par txapceoxlgfc
0 ->] : tmdcgpvbjr
...qkzusenm...
3 <-] : xozjebwyae
end
...pizdqsyg...
 [<- 2: kqjyzajcdr
else mcrdvtojhefw
2 ->> 1: eppttlaysw
1 -->x 3: sgjiszrsoo
else sdkhrkywcatf
 [-> 0: cleqdwzpdm
opt fydjtseyvafo
...mqhncnrm...
3 -> 0++ : phabjveafn
0 -> 2++ : jrhpsvufmf
end
...uvkldvdk...
1 ->x 3: fshfmwhncz
0 <-] : urbjopnixa
3 ->> 1++ : spyhpdebjr
end
 [-> 3: uwmetujwnq
par emejgdrseqge
2 -> 3++ : ughxypgnzv
1 ->] : jcruwlrwaz
...epgyvgin...
 [<- 0: mgkqnfvnny
return shxpdegacs
opt hovpjtiihxds
0 ->o 3++ : qdovfztskc
1 ->> 0: qqexuobipe
else benghtzxdhuu
2 -> 2: btffogwrjz
end
end
return ahdtixbdii
return xcxtnxfkfn
return mmfipzxqwm
return qmxhsvfqfr
@enduml