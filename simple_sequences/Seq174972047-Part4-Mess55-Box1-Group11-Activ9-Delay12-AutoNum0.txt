@startuml
participant ujvzlj as 0
participant peiueb as 1
participant tjuere as 2
box "ckpip"
participant xkawbu as 3
end box
== ervckh ==
3 ->o 1++ : cckqlygtbs
3 -> 2: bnajqspguv
par tklnpyovtxtn
3 ->] : qgkhhelpju
1 ->x 1: nzklewwmdx
return ahtimiaubf
opt ysjbmlnauwwb
1 -> 2: idrxbodegr
1 -> 0++ : iaroowdxcb
...xfykzbpj...
1 ->> 0: ictsgflluh
return jqakijptvr
break qhxobihalexc
3 <-] : pcbdihswca
3 <-] : khvheqwqph
3 -> 0: dcdmvnssei
3 -> 1: vbhjjqdstb
alt wibvsuqhuzze
1 --> 1: iruysczodm
...kaykqggi...
 [<- 3: pwlfntteiu
2 -> 0: fprvcpdnds
else rxthvxvcfzdc
1 ->x 1: ncovwzyget
...yofkuzbs...
0 ->] : hlrnzwfgbw
else yfddmgpsytvj
break gcrlpvfphxvw
2 <-> 3++ : kfidysqvse
loop cdpooourvxme
2 ->o 0: amfgxrqkop
2 ->] : xctoemrlru
else zkvryxeekhfi
3 -> 2: msheldryzf
end
break tpvhbtnfpsna
...tlqctscn...
2 ->x 0++ : ynzuxevvnj
critical bkzjzjjnavpx
...qrtssdjs...
0 <-> 1: pvkfzyounz
return leknlmimem
1 <-> 0: ysgzsqppub
return yawicdnmwj
else kfugbdcshxbl
2 -> 1: pmbwtqvind
else yeaggsxhykbs
1 -> 0: hawhufizhi
2 <-] : qotmhjjawo
3 ->x 1: kuebyiwbry
1 -> 0: vugftqzpsy
end
3 <-] : lgdicrxgmy
...apbtfvlu...
0 -// 1: ttyztrqpgj
loop cqmovazrsydh
 [<- 1: efblchdvka
2 --//o 1: aipdbhmtnp
loop nhiyyifyouzh
2 <-> 0++ : fieaojcekk
1 ->> 0: tudqhdclll
return qscwdscpwz
end
2 --> 1: jnijzqxolg
...noqyofpr...
0 -> 1: ptvwbhdlux
end
...gjfmoznv...
2 -> 1++ : ggxaxpylhs
0 -->x 0: unumejdlfs
return mrpysnmvgn
 [<- 0: kkligkhmno
end
loop gkzrlrdwsgjg
 [-> 0: obkscoksfo
...aajznemf...
2 -> 3++ : hmjevcwnqn
0 ->] : cxnfkrkkfy
3 <-> 3++ : xxafppyrnp
else lplqznvlqkqc
...lsahrxev...
0 -> 2: vsadxiaoqx
return npgbcrijfi
0 -// 2: dgwmsdtqkp
1 -> 0: jwrdnnuuok
...dzdgysmz...
2 -> 3++ : nazcpdlboy
2 -->x 2: nakgwazyqj
return lvubrxbhwk
1 ->o 0: orzrdkprkk
return gobkfzrefb
2 ->x 2: pqhsmativh
end
3 -> 0: fdobsafkeb
else rsjjvuuokrlf
0 ->] : obbymnhxnu
else ezwmwdbzfzrv
 [<- 1: nlofodvtgv
...lplgqbja...
1 <-] : drnqvkbgjs
else dxweuravblua
3 -> 1!! : teojoomiul
end
end
end
end
end
@enduml