@startuml
participant ehhcuj as 0
box "griin"
participant mnpvor as 1
participant aenaxt as 2
participant zpytvn as 3
end box
 [<- 3: otwlymfayq
2 -> 2++ : aevtovvorv
1 <-] : yluufviuuj
critical qodxxzpixfsc
2 -> 0: avykuajtcl
2 -> 0!! : eskzdwpklf
3 -> 1++ : ghuyovmfti
end
break woscxcchtmit
2 -> 3: rczuwagzhi
return fsbbqbenve
 [<- 0: xunhnxbfln
return dncxqkumgk
alt sgllzdhixqzs
 [-> 1: fbtlzmvugz
1 --//o 1++ : quebynraxf
 [-> 3: hsxmoienpl
return xynbummyoi
end
3 -\\ 3: diuxnnzrbv
else ubgtagrfuumv
...xjluakgw...
2 -->x 0: upyacggbbt
else cjidhewxiuip
critical lwbxobxsqzbk
1 <-] : kkoulvbrjv
0 <-> 0: xjhowpswcp
create participant jxnirplfet as 4
2 -> 4 : jxnirplfet
loop nbffiptochhn
1 -> 0++ : aeooftdprs
alt okaylvtedsyn
...wigwusnq...
2 --//o 1: wxitwguuql
return xdkicpkgzs
0 -->x 4: qenrezmwnx
else nizebpynbbvc
1 -// 1++ : hbgfbyqltm
2 -> 0: rphdyjrmvg
return qwetcefbcz
end
 [<- 0: xntxrogsck
else rxagyvajqexy
0 ->x 0++ : wixttopret
loop gjgkodpobrnr
...utgmrmzx...
0 -> 0++ : vkneuhqxoj
end
end
end
end
return fojlusoqel
return ddtwsvesuw
@enduml