@startuml
participant ppvryn as 0
participant pdrxwz as 1
box "amnir"
participant pcgzop as 2
end box
== gbkooz ==
1 ->] : ivomiypvqb
...mlqugbqg...
0 <-> 1: pztgvvbbbb
opt ycgoogtdjeya
2 -->x 0++ : nrmaygphly
...betxforp...
 [<- 0: wchkllgppt
return unylsahucx
else iaflmuorsqer
loop uzogooazfiww
1 ->o 2: grfnjsemmt
0 --> 0: wyiqtszcyw
1 -> 2: khpzkcqqbd
else slbexcrstoli
2 -// 2: pdzqhklfoi
opt jwqacrgotlqj
0 -> 0: injijtnrce
 [<- 0: msvswyfnwa
...iipmkbrr...
1 ->o 0: iukafjhgyq
else xyylggcgfief
1 -> 0: eoqncgokau
par jwgdpntrqfpg
...uvyceedg...
0 <-> 0: pumzedzdoc
...bxfajpwi...
0 --//o 0: rldrngqmow
opt zrmmyjuskpvx
...yqqkzurw...
0 <-] : tmhddlbrml
critical mkkugtdtvtpx
2 -> 0: fbliatogqd
par bttxetirdewt
...zbsxinak...
2 -> 0: ahtuaulcnk
0 -->x 2++ : xkupvewkej
...cwkpzkjz...
0 <-> 0: tgroypplfu
return owxtfwrcuo
else disiuzjyoiji
2 -> 2!! : zusdkmwlbu
...knvdrnlj...
 [<- 1: jumedzgpfj
else fgiypukjqzan
 [-> 2: oxfrvpdsve
else uugwecxiglyo
0 --> 1: cnwvaaaitj
2 -> 2!! : owfopflorf
1 -> 0: vksqplewed
else ggwlupsjdnxm
1 -->x 1: yqvqpycpad
end
loop dseuhippihcf
0 ->] : yhttguztux
 [<- 0: fkebqlmobh
0 -> 2!! : tcdwhkebhg
...wjvdgzax...
0 <-] : dgyrmaewew
alt ijhcdinmjyuy
...qmannjqt...
0 ->] : ukriwdpgrr
opt pcspqimktehx
2 -\\ 0++ : iaepipdoul
break izodtbkfzgvd
2 --> 2: yqiwjxeaig
return xtxxcxghji
1 ->x 1: kfnonwqagr
alt cvmtrivpgtpy
 [-> 1: rniizqpqcq
2 -> 1: pvzpmjglct
2 -\\ 0++ : xdbagtheum
else uuvcwjxetizs
2 ->o 0++ : zcxeaadjua
0 -\\ 2: brkmufudyt
else ycwqorajxjgd
1 --//o 1++ : ujnnblapcb
...diddymxr...
1 -> 2++ : atbibkorqr
2 ->> 0: ttwwjklikm
break phyfgfsafgfe
0 --//o 0: gtbmoreegf
return gbbgdvihjz
1 ->x 0: sphetoetvj
return wjrbcgynyv
end
...ueowdhje...
1 -> 2++ : nbpsqwyghe
else yqeurxkwjcxl
2 --//o 2: dkjrxcpoce
...krrbgqew...
2 ->] : tlgwcugjfd
0 <-] : dwzwkxckro
else nfwdcelqijzo
break eugexuyhpqgt
0 ->o 1: ycuneijkkh
return nsjbxxqpeq
alt uhyuilqhsxly
0 --> 0: hdcvzpdpia
2 --> 2: gkvjfdrsbz
return zxuoduxtoi
 [<- 2: mioiznwhoo
2 -> 1: dplwhjyotl
...veujxjac...
1 --//o 0: nepvjxqvuy
return ycwgkvkpaw
end
opt nomlficttgwa
...elhkttjb...
2 <-> 1: qojfecyeio
1 <-> 1: ondxwpjgdx
else sotiystnkcdi
...lvdxlywg...
2 -> 2: yfkgjjcskl
else myfaiqpwyydg
0 -\\ 0++ : qpyengyyma
0 -> 1: lgtezlwxay
return chuooifzte
2 -> 2!! : tlcohdjzuu
else lnmsjuvzprvc
2 -\\ 2: ecoxodrebi
0 -> 0: gzrogtenin
1 -\\ 1: nzyhaioyxd
2 --> 2: iknxnaihmt
end
critical knpfbhlvijsy
0 -\\ 2: mwmkqhlhvk
break ekobelinmvrj
2 ->] : pwnnujdfqb
critical frswailfzfrc
0 -> 1++ : iwneajqmpa
 [<- 0: leqoosmtlt
end
alt ficyqetazmhy
0 -> 2: eizlcwqrne
return prphuedzym
2 -> 1++ : laftduvcbl
 [-> 0: zmjgdyjlsj
end
2 -> 0: myfvuejppm
0 ->> 1: gtxafncvcb
else bxzmzwtoaxgw
2 ->> 0: sbkaqnrxpq
return reckxczztl
break xsochquckepi
1 ->o 1: zwkdiziajx
end
end
end
end
end
end
end
end
end
end
end
end
end
end
end
@enduml