@startuml
participant nqxbxn as 0
box "jkjld"
participant fcsquo as 1
participant lswcdu as 2
participant teficl as 3
box "umdje"
participant fdtotb as 4
end box
end box
critical oqrbyphuiawr
0 -> 0: fkxfglinbe
2 -> 3!! : edaghnsrxs
par zjqkamjbwpfu
0 -> 1: lxwtgjpges
1 -> 4: dibclhwduz
loop rvilejxivxch
1 -> 0!! : zrdlmeoqvh
par vlxaielhjjhj
0 -->x 1++ : afeswsvsra
...rlaqwnfk...
3 -> 0: zqdmtpdvaw
end
loop ypyqekrsqzdu
...tswrtpoi...
0 ->o 1++ : ysewozsihz
alt pdmbzvucweys
3 -> 3: njiboaixgy
1 --> 0: nnkjqgyjig
return drjgaqdqwy
end
2 -> 4!! : jduyuuetcc
critical norikhqiwgpy
...dblsbngc...
 [<- 4: lbxoqvfcdw
...adxiooyf...
0 ->o 3: tbfvlvskiw
return dcsicgefii
else tkmlwgumussn
2 -> 3: bgbsvxmbvc
3 ->> 4++ : piatarhxgl
else jcuflnegqgxh
4 <-] : pxhgyffjry
return ltmorfuptq
else pbdqwffhlmvy
 [-> 4: bsczowwwpk
3 ->x 2++ : runnpixqfl
0 -// 3++ : dtwkquxeya
...wxrlbmgo...
3 -->x 3++ : plqzrnusai
4 -// 4: taqfgitpif
 [-> 0: savsyjfjnt
2 -> 0: xdcwoqpsjm
return qooukqmtsk
3 ->] : wpcgdcpbiq
0 -->x 3: slrgchkvaj
...wlxquyjr...
3 ->> 1: xenlxooenm
else kbptgpmgaekz
0 ->] : vnezqpqsrq
return yildxdgkxu
else hbczvfpcbsrg
0 <-] : xbpunsjkui
end
2 -> 4++ : unxdhpotar
break fbxiybrrfxta
 [-> 4: imyfbiznnp
2 <-> 3++ : splvpytqzc
end
2 <-> 1: khqqikakzl
else qgnyjkbcenwp
...xjmikpff...
3 -// 1: dgchkdcheg
return pvwofokbdx
end
...ffztpehk...
2 --> 3: uekmzqwhex
return knrybbehol
break xdooyxoatkss
4 ->o 1: hczkeqmibe
...bqcnglph...
2 ->] : qqikfozpkr
else idnhhqbbvwhx
1 -> 3: szedjmruga
else cwtyfgeupzgk
critical trcpbdeaidvf
4 -->x 1: kgnxxmvzwu
0 --//o 1++ : gxowicicoq
opt cllsblklflcb
...lehicvjj...
0 -->x 3: ljvetdepxd
end
end
end
end
end
end
return pkxzluivcf
return xihjfxytjt
@enduml