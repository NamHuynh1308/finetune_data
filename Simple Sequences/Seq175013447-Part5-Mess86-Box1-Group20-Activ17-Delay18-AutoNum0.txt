@startuml
participant buyaxc as 0
box "ebfgb"
participant lywhno as 1
participant ujczsd as 2
end box
participant qwpsio as 3
participant olaggu as 4
loop gxuwwlvfbttx
4 ->x 0++ : tukqobmois
4 -\\ 1: byoivrptxz
return gprbdesizb
2 <-> 3: zdcvgblylv
else kycqhqkfpyay
2 -> 3++ : yrpkrqlogi
2 -> 4++ : aczmoixaxq
...zcksegyu...
3 -> 4: rdgyvniaeh
return tugfzritae
...kqcsmdvr...
4 ->x 0: ltekenbeat
...hmxrwmdp...
 [<- 0: ewetmgmeqr
else bufkzyfxnnpw
1 <-> 1++ : advfnxxmok
2 <-> 1++ : wafweebpdw
end
...cjqfyscg...
3 -->x 2++ : kjqmmsaopx
2 -> 1: djljusnshn
critical flwhualhxgps
...nalaaxzq...
3 ->x 1: ylgyonwlyx
2 -// 0: eflgbtsmeo
4 --//o 3: hgykugztml
opt bgoxqbpyfwos
1 --> 4: kplujejyzq
return gpiomocywd
2 -> 2: nmjtpcaftw
critical tfunjiydpjez
4 --> 0: gqcgrjlypv
4 --//o 4: nihgwsiwwh
return riimdsxeym
...yuifhetd...
3 -> 3: whjxgxlluw
4 --> 3++ : rjgousglca
else guetafguqokq
1 ->> 4++ : ybqtkqjvdw
else zowktucttyza
1 -> 0!! : svquyyyonw
...iysxgfju...
4 -> 0++ : upufzeluwc
2 -\\ 0: tgdgdnowkp
0 ->] : agjenynpmf
else hwuohpuyixta
0 -> 0++ : rwzxzeqgib
2 <-] : lsrjzniuxk
return qiwjqixaqf
loop aflkarqdloyr
4 <-] : ztxxvnufou
break mazestuedngn
...flhuocoz...
3 -> 1: bfxbmhmgjh
4 -->x 1: ykfgvizomc
return drbgswltjt
...bpmpmkfb...
4 -> 1: hbziwohdyk
return yvjktfppnp
...yagiidqt...
0 ->x 0: aiokkzvnxe
break hfdurrztbdjr
 [-> 0: jdkryqxvbd
return vcbbcznzhs
3 --> 2: qqblowzxqx
...nbhbaizj...
2 ->x 3: grfslzrvhd
return pdzbilxppr
0 ->x 2: ufmjqmugom
return hcfbkaxydn
else czxtzgcqrxcf
0 <-] : bcsprnlbmm
else qwcopxcpfqsv
critical bgmosoqzxzsp
...vekpmvdv...
4 -\\ 3++ : axlhmlfadg
loop kwgemdqvlzqm
 [-> 2: ibgxnkdjkq
4 ->> 3: ssauyocqrq
alt qwbkochdkwty
3 ->o 0: ayfcjahpmq
1 -> 4: pnthwgmfom
return mmarjtbgeo
else pupvmcnqrzya
4 ->] : xwmoxgqkfb
end
4 -> 4: fyodpvociw
end
alt mkhldbvaktui
3 <-] : rjsrtvzwbv
2 --> 3: hgdddjagqo
else ydalbvbvfaax
4 -> 1: whhxfiemee
else zmmtesclxtkb
critical wtbosntzncil
...tsmfxrii...
4 ->> 4++ : coimnapncf
0 ->x 4: vbupfmogae
end
4 -// 3++ : srnbkoaemy
end
4 -> 4: zialvnbzls
3 -->x 4: tdeaiiijii
return wjqtsninkl
else srasovhlfxom
break nwxocayqreow
...rjdlcgiq...
0 -> 3: bujxrlvyxf
2 --> 1++ : newntuyako
1 -// 1: slucwqrexn
return amyllfujqt
2 -> 3: usqgvupxbo
else gppzqrzpqkin
3 -> 2: dklghnlapp
return kydxyeqkqb
par tmxtntcbyncu
0 -\\ 0: zcckpkjuje
4 -> 3: rgqwdxnngh
else qwdidqhmktsd
3 ->o 3++ : ihxqtasifk
end
3 ->] : fitsztymdy
 [<- 2: tiuyxfxwij
2 <-> 0: uuduefdlyf
else tqistzobwkzn
...uazjwmgl...
3 <-> 2: vrmlmluhti
return qchuwmthqc
2 -> 3: rnxkxkyezq
else ubtzltthyaps
opt xrjhaninphna
...ysawssxl...
3 ->] : gjtxwoejox
...hmvsgojk...
 [<- 4: xmxsqhwiln
critical iyxvrpoctsoj
...ucyvagmp...
2 -> 2: posvwdsnjr
1 <-] : iqdkdzhews
end
4 <-> 3: txrejasbpq
else tujocykjzjan
1 <-] : zqdnupysss
par zretcgblnshe
3 --> 1++ : hsyfggwgnm
4 -> 2: rxlpcrfvlu
else flmcfldiikye
3 -// 4: quxcxvyypx
else vfpmkgrcosiv
4 <-> 2: jqhxywzxhg
loop pkkqbbmozrge
2 -// 4: mazwydhkdo
1 --//o 1: mgjsjkrnwc
return bkzsyqlmjf
4 -> 1!! : bepogovcmh
critical zifnenszgjhu
0 ->o 1: nuddpzapgn
1 -> 1: atevwlapop
else amipgdvtagwn
loop bsttosbxgtwk
2 -> 1++ : akuxthxrkw
0 --> 3: iyroxxzlkx
1 -// 1: isflkbqsrv
return ltmjckicbe
else roecpmslbulz
3 --> 3: qherpzumtw
else fcsysvelcyuj
4 --//o 1: mhdijaajlh
else xpasjrcxwzsy
end
end
end
end
end
end
end
end
end
end
end
end
end
@enduml