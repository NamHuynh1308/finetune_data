@startuml
participant bgooxk as 0
box "pgbwy"
participant ekcndv as 1
participant mqtohf as 2
box "aboye"
participant gqacbd as 3
end box
end box
3 ->] : ubwdktxnpg
opt tmnfndynmiim
2 ->x 3: wqcullnpqz
0 -> 0++ : cwyezlycmy
else pfgdmjusjgav
par kwkmyklasbjk
3 -\\ 2++ : vfjwyiqikb
loop pdhfemqpbvos
2 ->x 2: etegfvzdkg
opt vyfnzysmahtp
3 <-> 1++ : eeqeczkwtv
0 ->o 2: xvmsdpcbnp
return umdbwvmesd
2 -> 0: cpncxzjzki
return gtsusvmdny
0 -> 3!! : kscrhzlhqh
end
critical ykclytvypgwi
...lzyebdbh...
2 ->] : mfxmyjdwpk
...qeagxczv...
2 ->> 2: xjmgxfmjkc
return jehqpepniw
break qseruojjwghn
3 -> 1: wswcmepugo
0 -> 2++ : imwfnpjmnq
...kqfaoquw...
3 -> 3++ : xdbqwuaudf
alt mbdpnsipftqb
1 <-> 3++ : lgnelcnlbl
...lisazqur...
0 -> 3: ffqpsqioyu
end
...xpwgvscg...
0 -> 3: uffmgchegg
return zuliutkhgh
else hqwjjapzqfms
opt rthkzolusnab
1 --//o 3: zjorvtvjwl
return pvcibquxuq
alt dbanddlboggp
 [-> 1: fdgmazlcgc
opt gwfqsssstljr
2 -> 0!! : pqkqsauxbk
return ftcfmzzooi
critical egtjdzbrvpdj
...caxrgcus...
1 -> 1: qwqekkfgwp
0 ->x 0: tnanddxckk
end
3 <-> 2++ : tdszgszjdx
2 ->> 2: sernkiewne
end
2 ->x 3: kncfnbfriq
loop ggxqilwbwmzl
...cvpmejvd...
3 -> 1: unikyasiht
return uvrllyssuy
loop fevgimcrtqhc
1 ->] : slorhfefty
...bxexbidx...
2 <-] : mtetjomxtj
else twhstihxhnuh
 [<- 0: gcmfukwhsf
...ifxobwyw...
3 ->] : enagkknufa
...zenppmwg...
1 ->> 3: bgrlidtkni
par fnrtnmbgkwwi
...khmunpak...
 [<- 1: kfellfdmcl
0 -> 1: cbicglmhka
2 -\\ 0: axivdrfyss
1 -// 1: qqyzdwcchu
opt dnjodikcgqdp
...viyilqta...
0 -->x 1: anrvjgbgry
2 ->o 2: rswjldnszw
...adehmuaw...
3 --//o 2: lgazhotwqp
critical nnbmtekznech
3 --> 1: ogqjdnyaji
critical vhcjbolyuvmk
0 -> 0: rkxokjlkpp
opt opwfhlgbcaax
...otphslko...
1 ->x 1: ekymqwmioh
...uahrqklm...
3 <-> 1: ujqpguewnh
...uqdzhzyt...
 [-> 2: otewcwgftl
par gzogbwlaotqi
3 <-> 3: denvxrldhv
3 -->x 1++ : akosabvgzi
 [<- 2: liqckxobaf
end
2 -> 0!! : wgflfjepnd
return zlytmhsbtx
end
end
end
end
end
end
end
end
end
end
end
end
end
end
@enduml