@startuml
participant bxuyot as 0
participant lozowi as 1
box "vxgoo"
participant tbiqhi as 2
end box
0 --//o 1++ : enpqqpafka
 [-> 1: ycluqoxfzc
opt xtedwmtnghbt
...xzknfmxu...
0 <-] : hywxlkkcyl
2 ->] : djxvyqwltn
return olmnrocgzo
else hxbsxalwdkvt
1 <-] : ymtnobkfoi
end
opt yneimgqveoua
...gxxbxcpn...
0 -> 1: evitfiwynm
1 -> 0: qwfjvpshaz
2 -> 0++ : ffkdchfrbe
else tomvgwlkcfod
 [-> 1: fqulkgnfhg
...ohvjexlv...
 [<- 1: ibjrqmhpwi
loop zhizazhjqjop
...qfjigixi...
2 -> 2: xryyoyhxcs
return wfrzkmxkqd
...qjyeoqlp...
2 ->x 2: wiknukvmsz
1 <-> 2: fzrofztytn
 [<- 2: bwaxzltzvl
end
2 -// 0: xbxkqrksxx
else ukqfeljbhxrl
0 <-> 0: cceryzdwnk
...bxrtlfnw...
0 <-> 1: opzhcvcdpq
1 -// 2: uymtimalpp
alt mwkshfdxpqgd
0 ->] : xdoivhipwm
critical qlmagzpefldj
2 -\\ 1: kdoeqcqgzi
1 -> 1: dkfywxpehq
...olmtjfiy...
 [<- 2: mmbusbchvn
end
0 -\\ 1: qnmoaggxvz
else icdpkrnfxctw
par vwmbxkwqpyvz
1 -> 1: pwmilrzmgb
end
end
end
@enduml