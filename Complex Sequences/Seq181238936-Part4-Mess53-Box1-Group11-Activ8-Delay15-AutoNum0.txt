@startuml
participant gxioty as 0
participant enpkde as 1
box "lxjus"
participant jrnkfz as 2
end box
critical dsfxefqubmgc
1 <-] : ubafpnhgpp
...jjxrxkjx...
1 <-> 2: ugyhaegdzx
break cmqmwqalnsjm
...xakazmsv...
1 ->o 2: djomimpwct
alt rieisfxtroxy
...ultkoedt...
0 <-] : chvfoxduqf
0 -> 0: mrliwexmkq
else ngbrolcxauiu
1 -> 2: hxcytwcoqw
0 <-> 2: rcpvhvidif
...yuxdizjr...
2 --> 0: acjkvmaewd
else bcfcvahirhwh
...kvhzgxfd...
1 ->] : emrcbshuur
 [-> 0: hyslfecoye
else fuuhyhmecyyd
2 -> 2: thjqdqpdum
1 -\\ 1: dnslpmlwuh
1 ->x 2: ovnsuigsfq
else plkqjdxecqpf
loop aaxhmribjrkz
1 -> 2++ : qsccceznbx
0 --//o 2: kyokvxvfzh
return fkgeftkvkv
else supxuecejjbq
...tpblsefi...
2 -> 2: viebwpghmt
1 -> 1: bqmfpiuuhj
...codanlub...
 [-> 1: wcwikqgvhm
end
1 -> 1++ : jzfwhmskap
else ydtgxvuhiktn
2 -> 0!! : dtpkfebpfw
else wcevpchnfkqb
...gogptdxk...
 [<- 1: vhwhrydsni
opt xufrxwumyfsn
0 -> 0: xqenbatuus
...zfqwvsfo...
0 ->o 2: aaagjetwmt
end
...ctrvdfft...
1 ->> 1: jplhnbzbuc
0 -> 0: cewjurwfah
return dbahlbrzli
 [<- 2: ibdbuxanlc
else nhytjdtgqyax
0 -> 0++ : rwolnnfowd
loop aegjwkcpadbe
0 -> 1: hjjqnclpzz
1 -->x 0: byvpnvtbun
2 -->x 1: iogqpaamto
loop avabejghafxw
2 -> 2: sovifwnnlo
return ikwocrwnri
0 -->x 1: hqoxygkrbu
else ybjblepqqmxc
...tyqqytzs...
1 -// 1: wzsinkpjdb
...wfpcetkz...
2 <-> 1: twmojmeduj
...ppifdzob...
2 <-] : gkkvuzuiuw
create participant tmgocdhftg as 3
0 -> 3 : tmgocdhftg
break ppwdelzikgna
2 -->x 1: xwylsakkpz
0 ->> 0: fzsdfjttvn
2 -> 0: uqkpoizggz
else rdmuvfetkkus
1 ->o 0: vpyzckmyeg
loop aesrjwttgsqs
...daprcnfn...
2 -> 2: abusoyeedf
2 -> 1++ : lgizgusbfe
else qwldwnyepdoj
1 ->x 3: qqbdmjwhyh
return ajpuxmzhfs
critical gzcwauirgypj
1 ->o 3++ : atlaiepqrs
2 -> 1: ryxtpprmma
end
2 -// 2: ouwjliqqfy
else khfvdjsxtwzu
3 -->x 2++ : nyyotufliw
1 -> 1!! : ovrcjypoeb
return twmaijjqpf
critical gxhdthmbarkr
2 -> 1: mttkvyovmi
3 --//o 0++ : llepbmugoe
end
2 -// 1++ : cchucrlqca
else liojbvpfwmbx
...dbznmmyo...
3 ->x 2: cydpjddebo
return axxehtvfvc
else rtqgahslyaru
2 -> 0: qvytbmdeim
return aawkuzheuj
else uedwjxjqbjik
end
end
end
end
end
end
end
return jatkgwcssw
@enduml