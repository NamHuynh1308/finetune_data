@startuml
participant ccqkbj as 0
participant cbirjq as 1
participant wxevvs as 2
participant fvbtmh as 3
autonumber 10 3
0 -> 1: qefjujgyed
0 <-> 3: zljdbxtfyz
autonumber stop
...auwjrkuj...
1 -> 3: ygobdzktao
...pkrrespv...
0 <-> 0: qrkzaejeod
autonumber resume
break wflpsadvcboa
...yajngztm...
3 -> 2!! : kyzzjasedp
0 ->> 2: bzxxytvgxx
autonumber stop
end
par edklnpgovvzg
1 <-] : yxgcfwcpqs
autonumber resume
 [<- 2: dzhogyikss
autonumber stop
critical xhndnetpjiqf
2 -// 0: viktbycjlz
critical enjvabsppjot
...bnmhxvdx...
3 -> 1: sjbkinxtfq
autonumber resume
break vhnapyjifdjy
...nkmezwjo...
0 ->> 2: sxudtlcnwd
2 -> 0: xvwocjiinb
...pmdfpjlr...
1 -// 0: zbaqbeychj
autonumber stop
end
2 -> 3: mpokvdsuwb
end
0 -> 2: ryvczhdizb
autonumber resume
alt dhnsewushaqc
create participant rwqzlykvbd as 4
1 -> 4 : rwqzlykvbd
 [<- 2: anqtldpltb
autonumber stop
2 -> 2: kbrpyxhiya
else aaguzkrefzae
loop twkhzgofrxhl
1 <-> 3: rathpncjet
1 ->o 2: hvvglldruu
...dakmiwjf...
2 ->o 2: qegsuckrbe
else wacdeercxqvb
0 <-] : biycckeyzn
1 ->] : zgifyijlpm
else qynqhmnydkrx
1 -> 4++ : qlbipkdptx
autonumber resume
end
3 ->> 3: glcavjnxoj
return kfkqtmobkn
 [<- 3: gycqcjnmto
autonumber stop
else vtnbooikptzl
end
end
end
@enduml