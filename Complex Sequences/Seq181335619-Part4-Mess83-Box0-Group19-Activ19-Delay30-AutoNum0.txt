@startuml
participant budrbn as 0
participant gqhokc as 1
participant czrpxr as 2
 [<- 2: crgjjjfvux
critical jcvmrntxpmlu
...jdycrkgn...
 [<- 1: zbsqnbqiou
2 -\\ 2: ggsmlmojlh
...wtethfzk...
1 <-> 1: fiblbozcff
end
...efapwtnk...
1 -\\ 1++ : mobfzqihnw
par pldiwfhyprpl
1 ->x 1: ixftjkzrob
return qyckyewiko
critical soovtergwnwo
...lugdrryl...
1 ->o 2: zrwougldxf
...zgadoyww...
2 ->] : cyjqqjcopq
else dczvmhaumsqx
...tyjtsdsh...
0 -\\ 1: kedsvwptbr
0 <-> 2: oxwnplhiwm
else oandbbvbcupo
...rsiapxms...
 [-> 0: jazbnvpvls
end
...sdnkzxdi...
1 ->] : vcsajkudxc
 [<- 1: edazhexvdo
end
1 -// 0: smuxhasigs
2 --> 0++ : fwzpnukojy
...gevhtgxn...
0 -// 0: qqssocwmhd
1 --//o 1++ : svgwfedlfu
alt kybxfmcrsyvx
1 -> 2: ncvgwaabgg
2 ->x 0: tyqetzksmb
return iatkuzvyqf
opt pnmszxopbtyi
0 -> 2++ : dpaacliche
0 ->x 2: kxquftgemv
else xhstopdvqrmw
 [-> 2: gykvjtkvtt
else apifqpntasdz
0 <-> 1++ : kzkzpsblov
end
2 -// 2++ : vxdoositik
...cwishpto...
0 ->o 0: mfgtxtovbh
critical xskmrvjyylml
2 <-> 0: jbcjcvpkbj
2 -> 1: dbtcmxrnkl
return xdwwhkzgxp
else dfysyfvoucus
par opubnjnpbcwv
0 -->x 2: apmedtskcv
return uctbxpguxh
0 -> 0++ : vzxarvkjqe
...qsncshsx...
1 -> 1: vffwjbizuu
return uavbanwjsc
1 -// 0: aiirjsrvcp
else pjhmjldznmge
1 ->x 2: ytegrgrvjw
...nsjsvjbi...
1 --//o 1: ynxibhwajy
return wcbevpkqmv
end
...cwbtbfcf...
2 <-> 1++ : qohespqdkg
else wxmjdrebreov
...fuyfcwpu...
0 ->> 1: uvdcisvolq
else iicjfvqvhowa
 [-> 0: yagjkuppuy
else knioyufozegn
...vxvfzcur...
0 -->x 0: hvthnfdifu
alt djpstbazxcwa
...kewrefja...
1 -// 2: vtodzkzark
0 -> 0!! : qywngsfdap
loop qehmutoktqwa
0 -> 2: dytuxtnpuf
return qfpayflyfv
0 -\\ 1: onwcwkdcde
return fcufwrxyyz
0 -> 2: vdirslepbq
 [<- 2: ydrymhqyyx
2 ->> 2: hrwsofzhon
1 -->x 1: omqjbiqrfi
opt sfievtolvkus
2 -> 0++ : pnzymaigaz
...teodbzzj...
1 <-> 1++ : pchdwvlert
...vmiufoax...
2 -> 1++ : vgmageambl
...fhhareoe...
1 -->x 1++ : tmtxlhtezw
end
1 -\\ 2: jehjzgjbuw
return xiqgbkoddr
1 -> 1++ : usmqyqawcj
else mupfxbghsqnb
2 -> 1: ffehquucxf
return btldwjxbky
1 ->o 2: esqakghyfl
return bgwoafyfku
else hwlovyqihonp
1 -> 1: fhgjmgmvqk
0 ->x 2++ : rpvfmtwmwq
else mzecojdpwlhg
2 ->o 1: qqyjivvfqf
else uqgtideedydn
2 --//o 1: jwdyfiarnv
return iwhfdqormi
else luwjxmmxefsq
critical ubrjbgfwbqen
...zvffmgyd...
2 -> 1: ktpsrvwihb
critical ikadstdaftoo
2 -> 1++ : fbahhavggc
0 ->o 2: sztqfflbbh
return lzddqustsu
else qaojfboslrxy
critical vqhleljanuwg
...zrmginkl...
1 -// 1++ : gxtdijjvbv
break pwwungvipulb
0 ->> 2: cqrsqvfuqq
return jxwyoayrnj
loop mbccruspejps
1 <-] : mfecfarroq
return dmxscmzhht
...kelbdxwv...
0 -> 1: xwtihpfhnl
return lzvdgbngvt
break tdpgsuprnsnl
...pygevxuj...
2 -> 0: kjqqgjyysh
break oigzgobrwwjz
2 <-] : ykizilvybt
1 <-] : eigejysrax
...ntzzabue...
2 --//o 2: amttditehf
2 ->o 1: rlwugrpxuc
end
loop ffxoitcqwcft
0 -> 2: japzlsnedo
0 ->] : apfdltmewy
...xojlurch...
 [-> 2: xojlzlldne
else ifxabmydfilr
par mibxlfclqskf
1 <-] : bdpdrudqno
...equpsudi...
2 -\\ 0: amqvowexqq
end
create participant refhcmyrum as 3
2 -> 3 : refhcmyrum
end
...ndqurawn...
0 ->] : ugbhxelhuf
2 --//o 2: vlvrwvgykr
else sdslriiglohu
0 --//o 2: nufddttplb
3 -> 1++ : sqwxbagsay
1 --//o 1++ : diopkfqpap
else ggnydlcpvzhi
...wrnulbdf...
1 -> 2: tvapspexow
return ohmdmisyds
else abowrmwdmxtd
...svgiiylu...
2 -\\ 2++ : wbbiqmjyxn
end
...ilyceico...
2 ->o 2: eaqegseyjf
return xqlaxzsbpf
end
end
end
end
end
end
end
end
end
return fmepseyhkk
@enduml