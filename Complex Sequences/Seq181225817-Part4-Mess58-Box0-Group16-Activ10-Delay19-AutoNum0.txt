@startuml
participant syuplg as 0
participant mprfup as 1
1 -// 1++ : gtnduergvw
1 -// 0: eziqschpnj
return mrtjedxttc
 [-> 0: jxewgrbyqj
 [<- 0: eoqghcifce
...yzaudtmu...
0 -> 0: lsonnoepaf
loop kllhbfymorgn
...mkeizxzv...
0 -> 0++ : inioyiwnbg
critical xmhsuydaemer
0 -> 1: pvmtoseiae
...fjtdxxof...
 [<- 1: dythbcfmda
return zmrnuiajmx
...indvxeyp...
0 ->x 0: hwrkxlozji
loop wjcousqdmagi
create participant onbyfyhhav as 2
1 -> 2 : onbyfyhhav
critical mcnxjjhwkshz
...vucncryh...
2 -> 2: gwterxkgsn
critical dbtvgojrxfxv
0 -\\ 0: rimupzbdpa
1 -\\ 0++ : mqtrlrafsx
2 -->x 0: spjmrftrjw
return egrczhkqha
1 --//o 0: lcrcawxpkt
alt ucziegbhoakp
2 ->> 2++ : rgjebnupyh
par hfjjcnsmxgml
1 --> 1: qxpleebrkd
1 -> 2: zrjidfxlfn
...yaniyqir...
 [<- 1: xvtdfiqzps
return ttsnwydgrj
0 ->> 2: ewzfqtdarl
 [<- 1: sftkrfqmgi
2 ->] : ucvhabphnz
...onupcnmg...
2 <-> 2: kgskjsxnqf
else obrqemxwieny
 [<- 0: hfurvzcwzf
...tvduavqu...
0 -> 2++ : kxyzsvbsqp
else xflzruhjawos
par gcodqecssunv
0 ->> 2: phwwausiyc
par wmdaodgtqsqq
1 -> 2++ : kducnruaps
1 <-> 1: oxundmldoy
end
...ygpzeqtb...
 [<- 1: hiazpkdbqf
return dciqpdhgda
opt ksdiexwljtkg
1 -->x 1: ngtdrdogcf
return yocxflyqha
0 -->x 0++ : ordilybdzj
else pezzgopbbngi
0 -> 2: csxiwkdovq
return yplpbxtexm
1 -\\ 2: ntpkfohjdy
else irlwnbukywqk
1 --//o 0: djtkqjfumd
...exdvyvrl...
 [-> 1: zcpwnenbyr
else dcoijxwygmmc
2 -> 1!! : bhfrxmlfiy
end
alt admloyenqloj
0 -> 2: uuhhbvvrsa
...vizpeuul...
1 -> 2!! : wwzberqsti
else arvjymhhjvat
par haembtdiktlw
0 -// 2: cwfbhwsqws
...rhmeajxl...
 [-> 1: ogalcdknko
end
2 -->x 2++ : xdvuqzzakp
else incllucvovtx
0 -->x 0: bljeoitmcs
return rlbvghqntb
else dapnjxosmaus
1 -// 0++ : moiqhtepht
2 -> 0: xfkxsrqauj
return uhsdnfhzth
...exmzfqhj...
1 --//o 1: swxupyshwi
...vunkcxae...
 [-> 2: kfmawexfyd
...nxglrccw...
1 -->x 2++ : lvkiftsyol
critical vnaojwlshrfd
...wclmfphm...
1 ->x 2: brzedltcpy
...xpfdtrgy...
1 -> 0: ujvzqnmgfu
1 -> 1!! : kozvvtjsfq
return mlnksprhet
critical ykumhchcxewx
0 <-] : tygzidokxa
0 <-] : coooxzntuv
else zfaqzapxzozc
alt gsvqgmuvigsq
...cyklreug...
0 -> 2: kpmwjsfigk
loop jozqtomnyknm
...ximistul...
1 <-> 1: itsxtsnthf
create participant mklrqquvjp as 3
0 -> 3 : mklrqquvjp
1 -> 1!! : xcxqywxchg
3 -> 3: fqmwdwhden
 [<- 0: rjqvzknsws
else pqidmecegzlf
end
end
end
end
end
end
end
end
end
end
end
end
end
@enduml