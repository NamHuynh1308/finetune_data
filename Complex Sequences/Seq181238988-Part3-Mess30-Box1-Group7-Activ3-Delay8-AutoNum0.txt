@startuml
box "ppqrf"
participant okmmit as 0
participant aaqfmo as 1
end box
participant scfvnu as 2
par dpqmlrfrxxbp
1 <-> 0: xllnmkhtcu
1 ->] : rapngdubxe
else bgrlmonyjeaw
1 -> 1: srjqulgtem
else guitljyyffep
...lrxnoniq...
2 ->> 0: plvfbecakd
1 <-] : pihnncteip
else tbzrjxndwrsr
1 --> 2: vkvfiujibv
else jkqqkqhubrll
2 ->x 0: zmhkymmbql
loop qvntzksllvwm
0 -> 1: ggkmozbyzr
1 -\\ 0: ldykudjsgp
...dsvigqai...
1 -> 1!! : rfhqsfyupr
loop cdoskyvytljv
0 -> 0: ynawrdllps
1 ->] : mqkotsccqw
else ggznunzjvjzf
...hwwrfull...
0 -> 2: ozvlgpbsre
 [-> 0: rkvggavykt
else ompqnqylzttt
1 -\\ 2: eztkqfbxtj
else yfwtmvdsfvky
2 ->> 2++ : mvxczuomhb
loop rgtajtixuash
1 <-] : xdyjalhold
return rbhlbmkljt
1 -// 1: blmossbnxu
0 -> 1: mquzirxilx
else tnztcontvnwh
2 -> 0: ewhhosdkfy
else hnmvvnpjqida
1 --> 1: nltejgwctd
1 -\\ 0: jfhfgvpgyo
end
critical ornyipaeojst
0 -> 2!! : qjqjuycttb
1 --> 0++ : kdtxlazefg
end
...mewivudz...
2 --//o 2++ : jvvzdrvhsi
else ydgploaiyatv
par sftjqscwitbo
0 -// 1: jbcwdvatrk
return azfbtexnjb
...onvhindc...
1 ->] : toihcpbubf
...hpfbskzl...
 [-> 1: bnjobfmass
else wivddttvzttm
...dplritqe...
2 --> 2: gxadycwcrp
end
critical zmzucywqiktc
...lwncntml...
2 ->] : ghphqhvvmz
end
end
end
end
return khegbcvorz
@enduml