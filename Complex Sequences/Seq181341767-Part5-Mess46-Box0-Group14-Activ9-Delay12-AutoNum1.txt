@startuml
participant dchiaf as 0
participant cnbkhv as 1
participant yhfvop as 2
autonumber 8 9
 [<- 2: gxcaesrwyw
autonumber stop
 [-> 1: mtxeygksyg
 [<- 2: sdgfdeizuh
alt xlwhwmlbwcnm
 [-> 0: kwdvnvdyir
...xehdarpy...
0 -> 0++ : umfpnczvvi
else zzaqejmfghoa
...bagbvjhk...
0 ->> 1: uihtqiwgdb
return fatngqyucc
autonumber resume
2 ->x 0: plolilfsmu
autonumber stop
end
critical mmqghnohmjho
...mpyednlu...
2 ->> 0++ : klfhwwzipt
par zeiesnghgaze
1 ->o 1: lhiujlbpke
return xsqyszwaxf
autonumber resume
loop szztsugcprgb
...skbkkvel...
0 ->] : errihesyho
0 -> 0: pvudnqkfls
1 ->> 1: qgkidtypka
autonumber stop
...vqisjfhg...
0 ->o 1++ : jpimdyvnfo
else fkesrvsvjteb
1 ->> 2: awmovfpgxu
return xrocjkvdbs
opt tnwtonnahxvp
0 <-] : inzwelntqd
autonumber resume
 [<- 0: mktgzpfljw
autonumber stop
else gkahliluqlmy
0 --//o 1: kqznosrfqn
end
2 -> 2++ : prtjihrpsb
end
2 --> 1: zfpltmtbom
autonumber resume
opt mtklivthalpf
 [<- 2: ibfqpzobss
2 -->x 0: dllkxoxyun
return gisovkkzqu
alt ewiidrznrmsv
2 -> 2: qolfryqhnh
1 -// 0++ : hzcmoxfhdr
else bqqmyesfgjgj
create participant eonwiwdgnq as 3
2 -> 3 : eonwiwdgnq
return jwdvfyaqzi
autonumber stop
else ystzxlojqizv
par rhixoseuejkn
0 --//o 1: srgindbqtg
opt kreqwecdosqs
3 ->x 1: lqsydwuquw
autonumber resume
1 -> 1: qjrxhuhqjr
end
loop gedamithkenw
...wpzbtfad...
 [<- 1: dvhagbrsbb
autonumber stop
opt apfesihoghdu
 [-> 0: mnpbliuydy
autonumber resume
...uruweuve...
1 -\\ 3++ : cihnhezyui
...jknuqfyv...
3 --> 2: pgffjtwbqg
autonumber stop
opt kxaegwliaxur
...cncgjpgm...
3 -> 2++ : geihrjloyv
autonumber resume
3 -> 3: kdyjxlmlwq
end
0 -> 3: shzsbxufle
end
...ichyojkk...
0 ->> 0: rnmnqxpoas
1 ->x 2: ruowbuzyac
end
par ugcrqmkuqlgd
...acpghpku...
3 -// 3: hptoqcqscx
return cqpjhmavdw
autonumber stop
0 ->o 3: amsudxifya
return lonvqohudl
3 ->] : ojaywclhkr
else yluzqxbsrpru
...delbdzkw...
 [-> 0: yhczqybwvy
end
2 -// 1++ : mtcgcduvbx
autonumber resume
1 -> 2: qjlrsvdkwg
return ruexzaxmfg
break zcdivkkcvlxw
1 <-] : snkcnmvmdj
 [<- 1: cynacvqlwn
3 -> 0++ : bptgtwnekr
autonumber stop
create participant fjjqrpsxec as 4
2 -> 4 : fjjqrpsxec
autonumber resume
end
end
end
end
end
end
return sdbgnjqxhm
@enduml