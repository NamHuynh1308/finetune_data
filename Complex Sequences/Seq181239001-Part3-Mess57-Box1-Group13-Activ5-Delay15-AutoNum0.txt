@startuml
participant tiqazv as 0
box "lvcny"
participant ykzsiy as 1
participant detxhc as 2
end box
break dqabyupcrpll
0 ->] : xwvbfuinhv
 [<- 1: wjkdhxcgye
else gzywapjmhgkr
break wrxcpogvdhsg
2 <-> 2: cqgjmghwye
...cxxwusku...
1 ->] : mrynpbdzgw
end
opt hxqbumkgqctq
...zaejlioa...
2 -\\ 2: zdmvklcxok
break cvtsimxuchwv
0 -> 2!! : kbzmsgjxkv
 [-> 0: wdbjjbdgzi
1 ->o 2: fzcprxdilj
end
0 <-] : ezrdnxmmyc
end
...qgsxscup...
1 --> 0: jnxjaunxgd
else lscxhhxxzfyj
1 ->x 0: llinplblmm
0 -> 2: rtljmwtlzb
1 --//o 0: qjwbxajtng
end
 [<- 0: gtvzuitdce
2 ->o 1: tyudwjbokd
0 ->> 1: pvyndjkxmn
...anzhwixa...
1 --> 0: qvwsecgfzy
par qlqklykfzqnh
2 -> 0: jhpdjwvame
0 --//o 0: fxiqqsrxhy
else txbkmaugwged
 [<- 2: fiksrnjnag
else hhhqcdvpjnwd
 [<- 1: fycxempows
else xmgnxgllyoiu
...pcbzouez...
1 ->] : flcsahpkmo
break wpeqkxzgmmgz
...jyccwano...
1 -> 1: jninbzysst
opt ovskinyjtbpi
2 -> 1: fwqexcohrg
1 -> 2!! : asrabsgide
...ntjxslyj...
2 --> 2++ : aohtaqhhoc
else dthatyzaqoaz
 [-> 0: vnmwvhfjpd
critical oulddetltrae
0 -> 0++ : opfsitxkpw
 [<- 0: vngvdjxupn
return yptavuecvg
end
0 -> 1: krqrxabpcn
return zmiqqrxocv
...sqqhqquv...
1 <-] : pmjxahmeer
else ozcyluxjiadv
...xkcttxfb...
2 ->x 0: kpuhjounlg
2 --> 2: rbdpyagrgj
else dsqlhnqvfazu
0 -> 0: kqwpgbmnzr
else bzvuvpzwfxjc
1 --> 2: yiakieiemr
2 -> 0: orzchbihuf
else chenjinbccdu
...uwaitxbt...
1 ->x 2: altcwlljsl
opt ftcecihxmdqq
...cjoytrru...
2 --> 1: jooefjwpgt
...brfobnpz...
0 -// 1++ : xpwdoshamf
0 --//o 0: mkhahodvzt
end
 [-> 0: nplyrwkkna
2 -> 0: abbkddvxzt
return hbyrzvbbou
loop wbszefbtonpr
0 -\\ 0: ejimhgujsa
2 -\\ 0: uxblbfjinz
...yhazyuts...
 [-> 0: iuntlqerde
1 -// 2: rqotexeswm
end
loop exshspihnxzw
1 ->o 1++ : gmwouvyjuq
break qkzrletjbuyz
2 ->o 1: wprxpgufob
0 -\\ 0: viaacyaqqt
...hpnqexek...
1 -> 0++ : xcytxbzojz
end
0 --//o 2: mtdhmipsin
return bmuzxgcunr
end
loop wshvfouzlkwp
...jyhqnwvt...
0 <-> 0: fowdywpfhq
1 -> 1: fpthcnouxz
1 ->] : ddyohnrzvj
return dgjzermxxv
else gogastqawerk
 [-> 2: jrkcweysaj
end
2 ->o 1: hibbawrjqb
 [<- 1: xioubcrcsp
end
end
end
@enduml