@startuml
box "trxjl"
participant eqivth as 0
participant wlebzr as 1
end box
0 ->] : ckfjjmkrqk
par krxhrodrowch
1 -->x 1: jxaiatkzlg
par nkuulgvhuzgp
1 ->> 1: geskvkrnet
1 -> 1++ : uxxzujakek
1 <-] : tgughwrcjs
else pusvauhpmgbs
0 -> 1: pqagbylonm
return fukvbjhnru
end
0 -> 0!! : vfuxrphgkw
...peimocya...
1 -->x 1++ : bkhzlutjut
end
opt ghgejthhgifv
1 -> 1: toidpycoto
return uvwbtfnqty
1 -> 0++ : jfphpxeekq
1 --//o 0: rlsshewcnw
return qyqppxgkuu
0 --> 0: vddwacxyof
1 --//o 1: oltgibalyh
else hwefypfypend
1 ->x 0: yhxyksfuqa
end
...oznaluel...
0 ->> 0: iyibxugbmb
1 -> 1!! : tchmtwmrbi
...lmqcjbrr...
0 -->x 1: oqsexhpwho
...pviwfyvn...
 [<- 0: mrtpmdjiez
 [-> 0: mlonnshquz
0 -->x 1: apiajkflvu
0 --//o 0: qhplbzaint
critical asbyxphyqzyk
0 <-] : kksbaacvvq
par qolojptdmoqf
...tycibnfn...
1 -> 1: guvnpfnmsj
1 <-> 1: orztibltxy
1 -> 0++ : xfatqtubro
end
break jjrlqrmhytlo
1 -> 0: byzuxyzkuq
1 ->] : okablxpkmg
end
alt ggwvjhsgkclt
...hzmsqcyv...
0 -> 1: yubkhjywbu
return kdiygmkbwl
1 -> 1: xoqzgtxwaa
else jgrkrmyaqirm
1 ->x 1: jxytdmqlvw
1 -\\ 1: pgxnbgxspc
par urycegofbviw
0 -> 0: ztpuikkzjw
...helkjgea...
0 --> 1: eisfynxmiy
else hmbaxuoapxav
0 -> 1: hspdyltjij
0 ->o 1: rfbgsjkxol
else igekfevoohdq
0 --//o 1: xtshngdspi
end
0 -\\ 1: odlgkjxnxa
else fnaxaprrklts
...expsrfgy...
1 ->o 1: sstggnykih
else asjqgamoisla
loop xrjpuwtzgvpd
...dabgcgng...
1 -> 0!! : zkhjhivhbo
par ruhraoryagul
...ylaknqar...
1 ->o 0: rygtvxpnzd
0 -> 1: lzlwmmoxfb
opt vsmukmumhwot
1 -->x 1++ : iwnuwjuoyy
0 <-> 1: wphgsxshzr
return ldfqfvdatn
else rvadmmzilivk
create participant fkwjlwxagy as 2
1 -> 2 : fkwjlwxagy
0 -> 1++ : pftnovytjf
2 -> 2: tctrnxogqk
else zicnmyytqmde
0 <-] : hdcrcmekku
2 --> 2: zubduchnqk
else mitewzzezidz
opt yexckobygspa
2 --//o 1: xygleugfvv
return uvwsukgzgi
2 -> 0: qvwvlxqkxv
0 <-] : ldpejiaxmk
2 -->x 2: sbsbxxdkzi
end
1 -> 2: vqbmqyydof
else qmamunjyofvu
2 -\\ 1: ohcsondbtb
0 -> 1: lglydemraw
...izkgvkje...
0 <-] : xutaapwvqf
...cjlrnowa...
2 ->] : notucmsual
...ektjgaef...
1 -> 1: oyegftlqmd
1 --> 0: vgajlpfpoi
end
1 -> 0++ : ygpwiotysp
else csmghcaudoen
1 ->> 0: xtliouamii
return bozuemknny
end
critical hrtndlsdmbnj
2 -> 2: dtsfiwxded
alt qapbwfhxwzso
1 ->> 1: jrgnjvarqz
1 -> 1!! : tdafqfiiwt
1 -\\ 0++ : brcojpwbjk
else kgfxmmukghcq
2 -> 1: ktnuzovmlz
end
0 -->x 2: rbuzpcarhj
return rnugitxdyf
end
end
end
end
@enduml