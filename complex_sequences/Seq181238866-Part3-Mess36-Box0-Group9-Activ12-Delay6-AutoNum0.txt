@startuml
participant msaagp as 0
participant fkfrjf as 1
participant twhott as 2
0 <-> 1: jfcflfmpcp
loop fvyojktlutev
1 ->> 2: zdishcvemr
critical nbcxislfuxeo
2 -> 1++ : lcsmxwutjh
2 -> 2++ : kpdlpltesu
0 ->x 1++ : gaeoeqxgmn
...lkcbjmdq...
1 --> 0++ : jcpfpluiqz
alt qxftganvyzju
...vlmlemxw...
1 <-> 0: vzgstixfad
return uvoxkmkziq
...nsmfwqyq...
2 <-] : emnyfmlthj
2 ->o 1: zcatvfrwrc
return oxvaymzyab
2 ->x 1: oigcqavddn
return oszegoqkyi
 [-> 2: nduncqnipm
end
0 ->] : ggybkbjegg
else imdzzshpglao
1 -> 1++ : cburbnxmze
end
2 <-> 1: ppeowuxvwt
end
0 --> 2++ : egpjisodky
2 -->x 2++ : cpjxbsvert
alt hkwaqhebfyhy
1 -> 1: fnfkewxxyr
return tjdkjlyerk
 [<- 1: vrkuianzgg
return gaqbnwlzxf
else lmvgrobaqibq
...lffrakvz...
0 ->] : goxyuygrmc
end
1 --> 2++ : oadczrwivm
alt rbkhzraebhgv
1 -> 0: svsduammux
1 -// 1: arcohizsog
return skvrghzetf
2 ->] : spigqxrrlu
0 -> 1++ : vxmoegkpdm
else jgxfelpxuyju
2 -> 2: gdzztedvuh
else upopjipavusc
1 -> 0: ujnafmiymb
return fldemtczjo
else szjpkfsnppdd
0 <-> 1: odfcldfzfq
0 ->] : yucjrzodqc
critical fmvyfaqfedvw
0 --//o 1: jbwowgjsdp
critical gzewicbuagna
...skyqbsgp...
0 -->x 2++ : baggznxwii
...tsllfufp...
2 -> 1++ : kofewgfbny
end
2 --//o 0++ : trrrioqoey
2 --//o 2: jqkdoxxjzo
critical jfbqxmwbwfsn
1 ->o 2: oohylxmvfl
0 -> 0: qbrpfvyilj
return sbuekuuhni
else phwvezmywelw
alt plxyexjojhpz
0 --//o 2: sclikmhimu
return cgrtzoubst
end
end
end
end
return dyyblqhtwp
return rqdauwxfmt
return nehthpcfmv
@enduml