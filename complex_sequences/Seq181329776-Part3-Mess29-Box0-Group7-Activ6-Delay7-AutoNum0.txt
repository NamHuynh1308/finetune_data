@startuml
participant rzwpmw as 0
participant irjlqf as 1
loop nqinsrlzyorr
0 --//o 0: gzvvzivtah
0 -> 1: xfstivvosl
else lzdfaptfnrjf
opt vintvhlmiopv
0 --//o 0++ : qfzqvhmbtk
0 -\\ 0++ : imlhcnpxyu
else nprqdzqkllca
0 --//o 1: lklmznukye
end
critical hcevkyhszxfu
0 ->> 1: kfvuxyqcfh
par cbebpcsghgpa
1 <-] : oxslrorcpz
...cipqxady...
 [<- 1: lrduxosjuk
return jfbsvdpagj
else kizrykjyxjgt
loop rjonuslvosfk
0 --//o 0: furfwieepp
return fzxqctjbeo
...wetuejua...
0 -> 0: houpqedfvs
...ydjlbqnl...
0 --//o 1: fkftjxahua
end
par dzdxmehybcco
0 -// 0: ncowqbrzyb
1 -> 1: cekkslpmph
1 ->] : gddqzrvywi
else tpcnigdiewmr
alt naiqvwzdxynw
0 -// 1: eoxasllpdk
1 -> 1: czksnnvnjn
1 -> 1: dxrhfmvxnr
0 ->x 1++ : xwmvvqtpmx
...udaaiqsl...
0 ->] : omycjxzkya
1 --> 1++ : ahyckswbyw
...eltzlsea...
1 -> 0!! : npravymhou
...nsixgluv...
0 -> 1: vzmevwudpq
else gedszofkdgnf
1 -> 1++ : xfftjzoffb
create participant nhshzlwbit as 2
1 -> 2 : nhshzlwbit
 [-> 0: bxeyxwsuan
2 ->x 2++ : usofynkwoi
...mmlpqwli...
0 -// 1: borxbmybzl
return ymteojzcrg
1 -> 2: mdquyfxmjx
return dqxngiotpu
2 -> 0: cvxpwfeumv
return uawbzhwjwx
else pxksvcmbisjr
end
end
end
end
end
return beigdgzivz
@enduml