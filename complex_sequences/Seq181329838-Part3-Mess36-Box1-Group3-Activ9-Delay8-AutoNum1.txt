@startuml
participant bcurpc as 0
box "plvkk"
participant brmadh as 1
end box
autonumber 5 3
1 ->o 1: ywvyjuasno
1 ->] : xqrturtujl
...eovvvyou...
1 -> 0!! : kcvwrqxmhl
0 <-] : oxwtfvzouo
autonumber stop
1 -> 1: xyoyureaxt
autonumber resume
 [<- 0: qbawvvesxh
create participant mwkurnrkfe as 2
1 -> 2 : mwkurnrkfe
...pbfhdazp...
2 <-] : fanlvlfhcz
autonumber stop
opt xvmqfxcramgk
2 -> 0++ : cjqahizkkz
2 -// 1: bcahtkwjmj
return bpugyyonph
0 ->o 2++ : fknlutnliu
0 -> 2: xnscwexdzo
return sgqausqjmc
autonumber resume
end
critical wgheepthzzmx
2 -> 2++ : kpceludxgf
autonumber stop
1 ->] : actcasdvbf
autonumber resume
...suddhicm...
0 ->> 2: wzpjjlyarj
else bgynabddnfck
...dqimhewd...
1 -> 0: vofhgdfyln
return eevbfbbduh
else ilcgaquxphxh
2 <-] : awxveflrzv
0 -// 1: fgndxecoig
autonumber stop
else rtxnchbuuuqr
2 ->x 2: syrbmoeifw
 [-> 1: iejwhnupug
1 -> 1++ : ficaumfzjw
autonumber resume
else mbamnvzuhmef
2 -> 2!! : bteogevofa
else xjuugmvodwtg
...isvptrpi...
2 ->x 1++ : zlcfptohfi
par wcdgiuisxxbo
 [<- 2: nykwjipjeg
return opvinonhee
...sivpwual...
2 -> 0: itybmqamxl
 [<- 1: hernlbpjeo
autonumber stop
2 --//o 1++ : qagudsqlnh
autonumber resume
else uewuhihcsqeu
2 ->] : yajfuozeqt
end
1 --//o 1: uccwifzrts
return iwzeejcdkm
autonumber stop
end
0 ->o 2++ : cdimkrqgbz
...inmubeee...
1 -> 0: nopjyfpvtq
autonumber resume
1 <-] : okilfdofao
1 -> 2: mdohyoitvj
return nqoprniewm
autonumber stop
0 --//o 1: lxncndapyp
return eyuaojfmqv
autonumber resume
0 --//o 2++ : nhibjmmzal
autonumber stop
...nybbjtrh...
0 -> 1++ : oojnydiynh
autonumber resume
return kckuhapycn
return wrjfpbdfwn
@enduml