@startuml
participant iuduqe as 0
box "rqkjt"
participant cefjhm as 1
participant jnlvjn as 2
end box
loop sxkspcxmehjc
2 <-] : pdmkbawpjm
2 ->o 2: kghuhyqovs
1 -> 1++ : jafyqgtqth
...sixzfjnb...
1 -> 1: dzgqsinytf
return iujxkbvvce
end
loop ycdvmlmuqhwj
1 -> 2: klwvxxbqye
2 -> 1!! : jwbwzzhixd
par bivszbhkkitw
2 -> 1++ : scuyeddsrt
...yhcxvdgv...
2 ->] : rylupatlgt
return kyhkiunxes
2 --> 2: cropshgdmc
break gezoavcsttgn
2 ->] : ifrsizxgcm
0 -> 1: ipbwuaedsj
opt ticqukkgtouj
2 -> 2: rzhpzfhciq
2 --> 2++ : agtzkbdnrb
else zsifiuoyjmvf
 [<- 0: yalbslmisj
return ngruvmlcxu
else ozkigmrvsqrb
par kvvscdkezlpn
1 --> 2: jwrurbnipj
...mpsremmz...
2 -\\ 2: ltafyhjnsf
1 <-] : htremxqprw
end
0 ->x 1: awriemquek
end
0 -// 2: dcyuxpofbg
0 <-] : omivkdtsna
else nrcxjjcwpyny
0 -> 2++ : rkeeqzzyyl
0 -> 1: zvxxiwgpgn
else ftyqvfshnmol
0 -// 0: sshrfzssbt
opt xzkcgyjyuyph
0 -// 2: cnenxmhymq
 [<- 0: yrjahossmn
break klxyvexqgcyj
...rcbhajhu...
2 <-] : kfjommabaw
alt xlqxqqsqxzif
...jmginjgc...
 [-> 0: bvgibuqgnt
0 -> 1!! : nfwybuwiyr
end
0 -> 0: cwxecwtfpb
return wdvawoidiv
create participant vmkbqavhya as 3
1 -> 3 : vmkbqavhya
3 -->x 2++ : iqvjhspadt
0 ->o 0++ : rlwraspxaa
1 -\\ 1: twjnanscel
return spqqbdixuu
alt hwxbkujosndz
 [-> 2: kfuufnqsfx
 [-> 3: samlzwlzkl
2 -\\ 3: qktfixgjvn
return oxqxxvdahx
2 <-> 2: spienmfrlo
else bwodpexmfdzj
...yaxrykai...
0 --//o 1: bxvrxoyxjl
 [<- 1: zgqwveopqe
end
2 <-] : zofxtzpgqd
else gwhigcjvjqeq
1 -> 3: nsqgfbnpes
else bwajlbxuzmsq
...khwqjjvs...
1 <-> 2: aamcfleifx
end
0 -// 0: tmafmxytrp
break gvuwzebxmgol
 [<- 3: mgjlarrqda
opt hwpysclpqlvb
...kdpcezwh...
2 --> 1: qrxpppoytm
3 -->x 2: tjpinlfanu
end
3 ->] : oqwxftvbbt
else lxxftbuyilda
1 ->> 3++ : zbzbohjgjp
3 ->o 1: ukkbynwlyl
return rzcqkduber
...rmzaizhz...
0 ->o 3: ffijyshqpz
...ojdtuseo...
1 -> 3: hdieshixkm
end
3 --> 1: bwwrkisjja
else ynxgjopnnmfp
0 ->x 0++ : cjadqnathj
 [-> 3: cfzxjucnkp
return ufzwfsekmo
else inbityufpvwc
par jqjtpstdhpfl
...wukwlveo...
1 --//o 1: mnzrfaedon
2 -> 1: ldhbakcbmj
opt vpjyywfoxaox
3 --//o 3: huhhomblim
alt nfjbykimxagx
 [<- 1: bymgcgugxw
break tpsgoqmnatnz
1 ->x 2: hjvlaazpsv
1 -> 3++ : lhlbvlbryb
end
...shixnfjv...
 [<- 1: ksmiiogdpq
return xoznjcatws
2 ->> 2: obtjrttkaz
0 --//o 3++ : mlzoptrkge
end
...hvaefpbq...
0 -> 0: ekszcalncz
return smgoxzxawn
else sezgwheiiuni
loop ajazzyvglndv
3 -\\ 1: rlfpswfiua
...hxesrcgy...
0 -> 0: vrtynmaopw
else knwwihwmmlzw
end
end
end
end
end
end
end
@enduml