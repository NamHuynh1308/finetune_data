@startuml
box "qzkwa"
participant ibjokk as 0
participant vruzlt as 1
end box
participant vqgzmr as 2
2 -> 2: foqynwlhln
0 -\\ 0++ : uotnsugphq
...nazhsvxf...
 [-> 1: ojyttnxpmy
2 -\\ 2: wmyolmbaob
return cqnvhqczaz
2 -> 0: evnqtljtbg
critical hxtepkzhwcyc
1 -> 1++ : tthhwonufq
critical jkdasjhwslnt
0 -\\ 1++ : yyvvcpkhfs
1 -->x 2++ : mpoucaecxa
0 -> 2++ : gidsxjzese
else xmlwamipjeco
critical nbvjepyrvglk
1 -\\ 2: xdwgdhmqdk
return ihkwjfedyh
opt lvenzciglbkb
2 ->] : upqjkqnwhe
...kxxrjjqe...
0 -> 0: qbwqvdxfyh
0 --> 0++ : cwbxvaafkm
2 ->] : ptgyiipqtv
else ybtntokmvgxr
alt lzxurmsxddgl
2 ->> 1: xyxcxaaync
1 -> 2++ : xxwmvumomi
break lshixsxlzxbp
...idyrhcsj...
 [-> 2: cmjqxpyimi
1 ->] : cbthwylhmm
0 ->] : ykbuzsrbwp
end
 [-> 0: ztcufwectx
return sxqdtqnnng
else sndbqqgcqgds
0 --> 1: jcbjjucdyz
2 <-> 0++ : ctxsmlxnpy
0 -> 2: nepfwxqoiq
return pypkclxodo
end
2 ->o 2: arzfdussor
return ggudtbdawo
else oqaybxrvasqh
...omnzdgaz...
2 --//o 1: sptjblrbul
return ymwnglsdlm
else bazxffmdegpn
create participant tzdzvcfyxa as 3
1 -> 3 : tzdzvcfyxa
return hiyagccmka
1 -> 2: oakratatee
end
par uuqvkqbcdtwh
...ebtqjewq...
0 ->> 0++ : oyivbdexjt
1 --> 2: zsltswepxv
3 -> 3: vezjhkgbsv
end
loop jehdbwndnkcm
1 -->x 1++ : wzwwdtudgh
opt gfdzxuvoancm
2 -> 0++ : hlihqyzwqt
loop cuzcfhtlmdnf
 [-> 1: mhoihmiytc
...sbozstsf...
0 ->> 2: qspgifzbnf
return cewgnvgyca
0 ->o 0++ : kxqjjhvwal
end
0 -> 3++ : nnpyhpfxgg
1 --//o 0: ayfxunwvjf
...tgclghri...
3 -// 0: rrwzpemqfw
...sjengvof...
 [<- 0: bioqzgawva
...ynrdbxpr...
3 -> 2++ : ckihzbcwjz
critical acqbqpgwmiaq
0 -> 0++ : hquscrstfe
alt ahkthtlsdsec
 [<- 0: ihiibaqnyc
2 ->] : nqmqgasdfn
alt mbffwtntfpiz
...tilmploj...
0 <-> 1: pakoiexuiq
return mcshcczjsu
par objyjpzaufki
1 -> 1++ : gjpdjyiglg
3 --> 0: drzsqzmexx
return pwsmwghmzd
else ebgncakngxil
1 -> 2++ : twijjbowif
1 -> 0: lzziiqhwdr
...zjsyusyb...
3 ->> 0: ydrqjamdyz
return beqtrubycd
2 ->x 0: hkfjugwavf
end
end
end
end
end
end
end
end
end
return fwcjbybuhx
return gcqdzrvizp
return oouedrqult
return juzqrcipad
return vfuiqzbfoq
return wpkwjopotb
@enduml