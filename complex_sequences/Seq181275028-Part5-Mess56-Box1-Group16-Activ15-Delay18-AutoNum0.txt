@startuml
participant uoolry as 0
participant hkrbqv as 1
participant jrontb as 2
box "apfxp"
participant ekmkwt as 3
end box
1 -\\ 2: amepdcgftx
2 --//o 0: acqgsrpssl
...fezwkheo...
3 -> 1: qbphsqnqqm
1 ->> 0: xcejkjmcxw
 [-> 2: ngtwafslwv
...dynjnjzj...
1 -> 3: phtrwhhtyc
par htqqjhnbukbb
...mgmcvzru...
1 -> 2: cgjhwdvjdp
...mbkjyjnv...
3 <-] : bpgcnuiftj
else rfmfchfonhob
alt nxufrrodquji
...qnoistox...
2 -\\ 2++ : rfolwncmhn
0 -> 3++ : kibqmcmqei
else dubmtebtnjjc
1 -// 1: vmclhfpiak
loop kuhgtqeifywh
 [<- 1: dfhryskrgx
return kcnzepslsd
par zzvlkraxlpbt
2 ->> 2++ : uecchemonw
3 ->] : utfrnetyub
else fmqfzfhcxdlc
3 ->> 2++ : pmcrcbbdpi
end
2 -\\ 1++ : vangdatzpn
...uipsppmi...
3 --> 2: nrosjgoixi
end
...cljxqzdw...
0 --> 0: jvkpsftont
return hjhinxzjag
3 -> 0: ewjumzqdlr
return yrhipwknvu
else nxpbkrrwuymm
3 --> 2++ : cizprgeajc
0 -> 3!! : mxyifvcrsc
end
par odsiyzsvinwf
...qbsuwaxa...
0 -// 1: xiewhxnhis
return uxhvckdydh
break nqfqhjvkrlaz
...tsmcrhgp...
3 ->x 3++ : jbftmmfoqf
0 -> 1++ : ybelbghqus
critical hxgmswowbvce
0 -\\ 1: dypfspffsp
return rrjnqyzqeu
break pnsdvesllkxe
...hrxkdzfm...
2 -> 1++ : mhjuqzsbky
0 -> 2: geacygwexu
end
2 ->o 0: lqvekkkoar
...mogucbyu...
2 -> 2++ : gjstwluynk
else ubviqkxvatop
0 ->x 1: iwlxgjicrc
else owogbolsytqb
...nklaujao...
3 -->x 1++ : acjtfxzern
1 -> 0!! : inyhqlbyvn
...dhodcaor...
0 --//o 0: sbwejmlknl
return bfxsxuhakm
else mtyaaidgswsw
critical lfpmuekevdno
create participant rxgevinped as 4
0 -> 4 : rxgevinped
3 -> 0: ygrnbwusgy
return shhcxpnhwx
else krrjwbuyepfc
...fexhkurg...
2 ->> 4: gajupjlqzx
return lwzwwbcuey
0 --> 3: vazgkfhvpq
return juqfaudjrg
end
alt qxsqzdtbqsap
...sqklpcwg...
 [<- 4: jqmqddlcpq
2 ->> 4++ : jmyzyzgsrv
loop txfwtyqberby
0 -> 3++ : xrlpzymedb
3 -->x 2++ : qbzwuwjwkr
loop napvamtszeyu
3 -// 1: ykwiviaggc
critical vmzigeetujvi
...vptvkyjs...
1 -> 2!! : xtjcldwhro
return scrqorjaja
par gkrwzoalxpob
3 -> 1: aovqzokbkd
...ilxldbvf...
4 -->x 2: vwcjhloaat
end
1 --//o 2++ : enhjwvuvhf
4 -> 3: axrmroqznr
return hmeixkvgkw
else zwygwzrzwsxa
4 -> 0: tparrvzppj
return yohzdwhijj
2 -> 0: qxftdfabnj
else bswgoaezxvpi
...darxledz...
4 <-] : bpepcnyzdu
return eivdtkaxkf
2 ->] : oruwgpsedv
alt mmuebrwkmoqs
 [<- 1: vsfzkvoltg
loop qaaxwkgvrirt
0 -// 2: zjxaspupxn
0 ->o 2: wugvhctexr
end
2 --> 2: tlpxflpkaz
 [<- 4: rjqyxzwopj
else zqavarkwyghx
end
end
end
end
end
end
end
end
end
return fbiknjzild
return yegctwjsde
@enduml